# v0.6.0

## Highlights
- Validación con Zod y contrato de error uniforme en chat, moderación, export y delete
- Guards de bloqueos, visibilidad e incógnito aplicados de forma consistente en variantes
- SSE con heartbeats y limpieza de suscriptores

## Testing & CI
- Suite DEMO (chat, guards, me, report, mod) con start-server-and-test
- CI ejecuta `test:all` (unit + validation automatizada)

## Moderación (DEMO remoto)
- Gateo triple en API/Vercel:
  - `DEMO=true`
  - `initData === 'demo_init_data'`
  - Header `x-demo-secret: <DEMO_SECRET>`
- Producción intacta (roles/auth normales)

## Export
- `POST /api/me/export` con `format=json|csv` (default `json`)
- Contrato uniforme en local/API/Vercel:
  - JSON: `{ ok: true, format: 'json', data, correlationId }`
  - CSV: `{ ok: true, format: 'csv', csv, correlationId }`
- CSV “event-based” con columnas `type,...` listo para consumo

## Docs
- README y `.env.example` actualizados (Demo mode y DEMO_SECRET)

## Compatibilidad
- Sin breaking changes; los nuevos campos son opcionales con defaults

---

### Links
- Changelog: https://github.com/CFZ6S2/lgtbiq2026/blob/main/CHANGELOG.md
- README (Demo mode y tests): https://github.com/CFZ6S2/lgtbiq2026/blob/main/README.md

### Recordatorio operativo
- Asegurá `DEMO=false` en prod/preview.
- Si corrés smoke remoto de moderación en staging, setea `DEMO_SECRET` y envía `x-demo-secret`.
